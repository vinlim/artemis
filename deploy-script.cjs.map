{"version":3,"file":"deploy-script.cjs","sources":["deploy-script.ts"],"sourcesContent":["import {\n    Account,\n    Aptos,\n    AptosConfig, AptosSettings,\n    Ed25519PrivateKey,\n    Network,\n} from \"@aptos-labs/ts-sdk\";\n\n\nconst APTOS_NETWORK = Network.DEVNET;\nconst config = new AptosConfig({network: APTOS_NETWORK});\nconst aptosClient = new Aptos(config);\nconst module = \"artemis_one\";\n\nasync function main() {\n    const adminPrivateKey = new Ed25519PrivateKey(process.env.ADMIN_PRIVATE_KEY);\n    const admin = Account.fromPrivateKey({privateKey: adminPrivateKey})\n    const alice = Account.fromPrivateKey({\n        privateKey: new Ed25519PrivateKey('0xeb15ae1c953958b2bad5d7da3e83f4f18075aeb04d46803ef3845de207725409')\n    });\n\n    console.log(`Admin: ${admin.accountAddress.toString()}`);\n    console.log(`Alice: ${alice.accountAddress.toString()}`);\n    const assetName = 'Artwork #4';\n\n    await createAsset(admin, assetName)\n    await purchaseToken(alice, assetName);\n}\n\nasync function createAsset(signer, assetName) {\n    const data = [\n        assetName,\n        \"Pakwali\",\n        \"https://arteesan.io/pakwali\",\n        \"Artemis Four\",\n        \"ARTE04\",\n        BigInt(1000),\n        BigInt(100000)\n    ];\n    const tx = await constructTx(signer, 'create_asset', data);\n    const senderAuthenticator = await aptosClient.transaction.sign({signer: signer, transaction: tx});\n    const pendingTx = await aptosClient.transaction.submit.simple({transaction: tx, senderAuthenticator});\n    console.log(pendingTx.hash);\n    return pendingTx.hash;\n}\n\nasync function purchaseToken(sender, asset_name) {\n    const data = [\n        BigInt(200),\n        asset_name\n    ]\n    const tx = await constructTx(sender, 'purchase_fractional_ownership', data);\n    const senderAuthenticator = await aptosClient.transaction.sign({signer: sender, transaction: tx});\n    const pendingTx = await aptosClient.transaction.submit.simple({transaction: tx, senderAuthenticator});\n    console.log(pendingTx.hash);\n    return pendingTx.hash;\n}\n\nasync function constructTx(sender, functionName, data) {\n    return await aptosClient.transaction.build.simple({\n        sender: sender.accountAddress,\n        data: {\n            function: `${process.env.ADMIN_ACCOUNT}::${module}::${functionName}`,\n            functionArguments: data\n        }\n    });\n}\n\nmain().then(() => {\n    console.log(\"Exit without error\");\n}).catch(err => {\n    console.error(err);\n});"],"names":["Network","AptosConfig","Aptos","module","Ed25519PrivateKey","Account"],"mappings":"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"}